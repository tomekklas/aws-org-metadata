<mxfile host="Electron" modified="2023-11-05T19:48:07.545Z" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/22.0.3 Chrome/114.0.5735.289 Electron/25.8.4 Safari/537.36" etag="DlcpAr-aBhHWKNJaDb7F" version="22.0.3" type="device">
  <diagram name="Page-1" id="8d5mrliIp3BU0lDsoC9y">
    <mxGraphModel dx="2676" dy="1162" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-110" value="" style="rounded=0;arcSize=10;dashed=1;fillColor=none;gradientColor=none;dashPattern=1 1;strokeWidth=0;" parent="1" vertex="1">
          <mxGeometry x="-199" y="200" width="1199" height="640" as="geometry" />
        </mxCell>
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-2" value="Management Account" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_account;strokeColor=#CD2264;fillColor=none;verticalAlign=top;align=left;spacingLeft=30;fontColor=#CD2264;dashed=0;" parent="1" vertex="1">
          <mxGeometry x="-39" y="240" width="480" height="160" as="geometry" />
        </mxCell>
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-6" value="AWS Organization" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#E7157B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.organizations;" parent="wWqcaIJot_G2F6AxtA6Q-2" vertex="1">
          <mxGeometry x="195" y="30.004999999999995" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-3" value="AWS Account" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_account;strokeColor=#CD2264;fillColor=none;verticalAlign=top;align=left;spacingLeft=30;fontColor=#CD2264;dashed=0;" parent="1" vertex="1">
          <mxGeometry x="-160" y="440" width="720" height="360" as="geometry" />
        </mxCell>
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="wWqcaIJot_G2F6AxtA6Q-3" source="wWqcaIJot_G2F6AxtA6Q-7" target="wWqcaIJot_G2F6AxtA6Q-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-7" value="Retreieve Account Ids" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.lambda_function;fillColor=#F58534;gradientColor=none;" parent="wWqcaIJot_G2F6AxtA6Q-3" vertex="1">
          <mxGeometry x="176" y="85.25" width="69" height="72" as="geometry" />
        </mxCell>
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-8" value="Time based trigger" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.event_time_based;fillColor=#759C3E;gradientColor=none;fontSize=11;" parent="wWqcaIJot_G2F6AxtA6Q-3" vertex="1">
          <mxGeometry x="30" y="80" width="63" height="82.5" as="geometry" />
        </mxCell>
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="wWqcaIJot_G2F6AxtA6Q-3" source="wWqcaIJot_G2F6AxtA6Q-11" target="wWqcaIJot_G2F6AxtA6Q-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-11" value="Account Ids&amp;nbsp;Queue" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.sqs;fillColor=#D9A741;gradientColor=none;" parent="wWqcaIJot_G2F6AxtA6Q-3" vertex="1">
          <mxGeometry x="311" y="74.75" width="76.5" height="93" as="geometry" />
        </mxCell>
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="wWqcaIJot_G2F6AxtA6Q-3" source="wWqcaIJot_G2F6AxtA6Q-12" target="wWqcaIJot_G2F6AxtA6Q-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-12" value="Retrieve AWS &lt;br&gt;Organizational data" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.lambda_function;fillColor=#F58534;gradientColor=none;" parent="wWqcaIJot_G2F6AxtA6Q-3" vertex="1">
          <mxGeometry x="464" y="85.25" width="69" height="72" as="geometry" />
        </mxCell>
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-13" value="AWS Organizational &lt;br&gt;data" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.dynamo_db;fillColor=#2E73B8;gradientColor=none;" parent="wWqcaIJot_G2F6AxtA6Q-3" vertex="1">
          <mxGeometry x="600" y="80.75" width="72" height="81" as="geometry" />
        </mxCell>
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="wWqcaIJot_G2F6AxtA6Q-3" source="wWqcaIJot_G2F6AxtA6Q-8" target="wWqcaIJot_G2F6AxtA6Q-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-75" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startArrow=classic;startFill=1;" parent="wWqcaIJot_G2F6AxtA6Q-3" source="wWqcaIJot_G2F6AxtA6Q-72" target="wWqcaIJot_G2F6AxtA6Q-73" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-72" value="API Gateway" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.api_gateway;fillColor=#D9A741;gradientColor=none;" parent="wWqcaIJot_G2F6AxtA6Q-3" vertex="1">
          <mxGeometry x="160" y="240" width="76.5" height="93" as="geometry" />
        </mxCell>
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-79" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startArrow=classic;startFill=1;" parent="wWqcaIJot_G2F6AxtA6Q-3" source="wWqcaIJot_G2F6AxtA6Q-73" target="wWqcaIJot_G2F6AxtA6Q-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-73" value="Retrieve data" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.lambda_function;fillColor=#F58534;gradientColor=none;" parent="wWqcaIJot_G2F6AxtA6Q-3" vertex="1">
          <mxGeometry x="440" y="250.5" width="69" height="72" as="geometry" />
        </mxCell>
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-83" value="Iam Role" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#DD344C;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.role;" parent="wWqcaIJot_G2F6AxtA6Q-3" vertex="1">
          <mxGeometry x="614" y="227.93000000000006" width="40" height="22.57" as="geometry" />
        </mxCell>
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-84" value="1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;strokeWidth=2;fontFamily=Tahoma;spacingBottom=4;spacingRight=2;strokeColor=#d3d3d3;" parent="wWqcaIJot_G2F6AxtA6Q-3" vertex="1">
          <mxGeometry x="93" y="79.75" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-85" value="2" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;strokeWidth=2;fontFamily=Tahoma;spacingBottom=4;spacingRight=2;strokeColor=#d3d3d3;" parent="wWqcaIJot_G2F6AxtA6Q-3" vertex="1">
          <mxGeometry x="240" y="80.25" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-86" value="3" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;strokeWidth=2;fontFamily=Tahoma;spacingBottom=4;spacingRight=2;strokeColor=#d3d3d3;" parent="wWqcaIJot_G2F6AxtA6Q-3" vertex="1">
          <mxGeometry x="380" y="74.75" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-87" value="4" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;strokeWidth=2;fontFamily=Tahoma;spacingBottom=4;spacingRight=2;strokeColor=#d3d3d3;" parent="wWqcaIJot_G2F6AxtA6Q-3" vertex="1">
          <mxGeometry x="514.5" y="79.75" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-88" value="5" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;strokeWidth=2;fontFamily=Tahoma;spacingBottom=4;spacingRight=2;strokeColor=#d3d3d3;" parent="wWqcaIJot_G2F6AxtA6Q-3" vertex="1">
          <mxGeometry x="660" y="74.75" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-89" value="1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;strokeWidth=2;fontFamily=Tahoma;spacingBottom=4;spacingRight=2;strokeColor=#FF0000;" parent="wWqcaIJot_G2F6AxtA6Q-3" vertex="1">
          <mxGeometry x="220" y="240" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-91" value="2" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;strokeWidth=2;fontFamily=Tahoma;spacingBottom=4;spacingRight=2;strokeColor=#FF0000;" parent="wWqcaIJot_G2F6AxtA6Q-3" vertex="1">
          <mxGeometry x="489" y="240" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-63" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.855;entryY=0.145;entryDx=0;entryDy=0;entryPerimeter=0;startArrow=classic;startFill=1;" parent="1" source="wWqcaIJot_G2F6AxtA6Q-6" target="wWqcaIJot_G2F6AxtA6Q-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-64" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.145;entryY=0.145;entryDx=0;entryDy=0;entryPerimeter=0;startArrow=classic;startFill=1;" parent="1" source="wWqcaIJot_G2F6AxtA6Q-6" target="wWqcaIJot_G2F6AxtA6Q-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-80" value="Iam Role" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#DD344C;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.role;" parent="1" vertex="1">
          <mxGeometry x="116" y="407.43" width="40" height="22.57" as="geometry" />
        </mxCell>
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-82" value="Iam Role" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#DD344C;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.role;" parent="1" vertex="1">
          <mxGeometry x="229" y="407.43" width="40" height="22.57" as="geometry" />
        </mxCell>
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-92" value="&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;Time bases trigger" style="rounded=1;arcSize=9;fillColor=#F7F8F9;align=left;spacingLeft=5;strokeColor=#DEE1E6;html=1;strokeWidth=2;fontColor=#596780;fontSize=12;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="600" y="440" width="360" height="40" as="geometry" />
        </mxCell>
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-93" value="1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;strokeWidth=2;fontFamily=Tahoma;spacingBottom=4;spacingRight=2;strokeColor=#d3d3d3;" parent="1" vertex="1">
          <mxGeometry x="603" y="450" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-94" value="&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;Lambda retrieve account IDs from AWS Organization" style="rounded=1;arcSize=9;fillColor=#F7F8F9;align=left;spacingLeft=5;strokeColor=#DEE1E6;html=1;strokeWidth=2;fontColor=#596780;fontSize=12" parent="1" vertex="1">
          <mxGeometry x="600" y="480" width="360" height="40" as="geometry" />
        </mxCell>
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-95" value="2" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;strokeWidth=2;fontFamily=Tahoma;spacingBottom=4;spacingRight=2;strokeColor=#d3d3d3;" parent="1" vertex="1">
          <mxGeometry x="603" y="490" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-96" value="&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;Account IDs are sent to SQS (1 account id - 1 message)" style="rounded=1;arcSize=9;fillColor=#F7F8F9;align=left;spacingLeft=5;strokeColor=#DEE1E6;html=1;strokeWidth=2;fontColor=#596780;fontSize=12" parent="1" vertex="1">
          <mxGeometry x="600" y="520" width="360" height="40" as="geometry" />
        </mxCell>
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-97" value="3" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;strokeWidth=2;fontFamily=Tahoma;spacingBottom=4;spacingRight=2;strokeColor=#d3d3d3;" parent="1" vertex="1">
          <mxGeometry x="603" y="530" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-98" value="&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;SQS triggers Lambda function (1 concurrent exec)&lt;br&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;which retrieves&amp;nbsp;data for that account ID only" style="rounded=1;arcSize=9;fillColor=#F7F8F9;align=left;spacingLeft=5;strokeColor=#DEE1E6;html=1;strokeWidth=2;fontColor=#596780;fontSize=12;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="600" y="560" width="360" height="50" as="geometry" />
        </mxCell>
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-99" value="4" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;strokeWidth=2;fontFamily=Tahoma;spacingBottom=4;spacingRight=2;strokeColor=#d3d3d3;" parent="1" vertex="1">
          <mxGeometry x="603" y="570" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-100" value="&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;Account data is stored in DynamoDB Table" style="rounded=1;arcSize=9;fillColor=#F7F8F9;align=left;spacingLeft=5;strokeColor=#DEE1E6;html=1;strokeWidth=2;fontColor=#596780;fontSize=12" parent="1" vertex="1">
          <mxGeometry x="600" y="610" width="360" height="40" as="geometry" />
        </mxCell>
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-101" value="4" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;strokeWidth=2;fontFamily=Tahoma;spacingBottom=4;spacingRight=2;strokeColor=#d3d3d3;" parent="1" vertex="1">
          <mxGeometry x="603" y="620" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-104" value="&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;Request to API gateway" style="rounded=1;arcSize=9;fillColor=#F7F8F9;align=left;spacingLeft=5;strokeColor=#DEE1E6;html=1;strokeWidth=2;fontColor=#596780;fontSize=12;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="600" y="680" width="360" height="40" as="geometry" />
        </mxCell>
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-105" value="1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;strokeWidth=2;fontFamily=Tahoma;spacingBottom=4;spacingRight=2;strokeColor=#FF0000;" parent="1" vertex="1">
          <mxGeometry x="603" y="690" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-106" value="&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;Lambda retrieves data for specific API method &lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;from DynamoDB table and returns it" style="rounded=1;arcSize=9;fillColor=#F7F8F9;align=left;spacingLeft=5;strokeColor=#DEE1E6;html=1;strokeWidth=2;fontColor=#596780;fontSize=12" parent="1" vertex="1">
          <mxGeometry x="600" y="720" width="360" height="40" as="geometry" />
        </mxCell>
        <mxCell id="wWqcaIJot_G2F6AxtA6Q-107" value="2" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;strokeWidth=2;fontFamily=Tahoma;spacingBottom=4;spacingRight=2;strokeColor=#FF0000;" parent="1" vertex="1">
          <mxGeometry x="603" y="730" width="20" height="20" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
